YUI.add("gallery-button",function(G){var B=G.Lang,A={DISABLE:"disable"},H={HOVER:"-hover",PRESSED:"-pressed",DEFAULT:"-default",DISABLED:"-disabled"},D="boundingBox",F="disabled",C="enabled",E="default";G.Button=G.Base.create("button",G.Widget,[],{BOUNDING_TEMPLATE:"<button/>",CONTENT_TEMPLATE:"<span/>",className:"",_clickHandle:null,_mouseIsDown:false,_mouseListener:null,initializer:function(I){this.className=this.getClassName();this.after("defaultChange",this._defaultChanged,this);this.after("enabledChange",this._enabledChanged,this);},renderUI:function(){this.get("contentBox").set("text",this.get("label"));},bindUI:function(){var I=this.get(D);this._bindClick();this.after("callbackChange",G.bind(this._callbackChange,this));I.on("mouseup",this._mouseUp,this);I.on("mousedown",this._mouseDown,this);I.on("mouseenter",this._mouseEnter,this);I.on("mouseleave",this._mouseLeave,this);},syncUI:function(){this._updateDefault(this.get(E));this._updateEnabled(this.get(C));this.get("type");},disable:function(){this.set(C,false);return this;},enable:function(){this.set(C,true);},_bindClick:function(){var I=this.get("callback");if(this._clickHandle){this._clickHandle.detach();}if(I){this._clickHandle=this.on("click",G.bind(I,this));}},_callbackChange:function(I){this._bindClick();},_mouseUp:function(){this.get(D).removeClass(this.className+H.PRESSED);this._mouseIsDown=false;},_mouseDown:function(){if(this.get(C)){this.get(D).addClass(this.className+H.PRESSED);this._mouseIsDown=true;}},_mouseEnter:function(I){if(this.get(C)){this.get(D).addClass(this.className+H.HOVER);if(this._mouseIsDown){this.get(D).addClass(this.className+H.PRESSED);}}},_mouseLeave:function(){var J=this.get(D),I=this.className+H.PRESSED;J.removeClass(this.className+H.HOVER);if(J.hasClass(I)||this._mouseIsDown){J.removeClass(I);if(this._mouseListener===null){this._mouseListener=G.on("mouseup",G.bind(this._listenForMouseUp,this));}}else{this._mouseIsDown=false;}},_listenForMouseUp:function(){this._mouseIsDown=false;this._mouseListener.detach();this._mouseListener=null;},_updateEnabled:function(I){var K=this.get(D),J=this.className+H.DISABLED;if(I){K.removeClass(J);K.removeAttribute(F);}else{K.addClass(J);K.removeClass(this.className+H.HOVER);K.removeClass(this.className+H.PRESSED);K.setAttribute(F,F);}},_enabledChanged:function(I){this._updateEnabled(I.newVal);},_updateDefault:function(J){var K=this.get(D),I=this.className+H.DEFAULT;if(J){K.addClass(I);K.setAttribute(E,E);}else{K.removeClass(I);K.set(E,"");}},_defaultChanged:function(I){this._updateDefault(I.newVal);}},{EVENTS:A,ATTRS:{label:{value:null,validator:B.isString},callback:{validator:B.isFunction},enabled:{value:true,validator:B.isBoolean},"default":{value:false,validator:B.isBoolean},type:{validator:B.isString,setter:function(I){this.get(D).replaceClass(this.getClassName("type",this.get("type")||E),this.getClassName("type",I||E));return I;}}}});},"gallery-2010.05.19-19-08",{requires:["widget","event-mouseenter"]});